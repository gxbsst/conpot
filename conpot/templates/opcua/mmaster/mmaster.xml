<mmaster enabled="True">
     <!--明匠机器人-->
    <device name="MJGrooveRobot" host="192.168.1.5" port="502" update_period="1">
        <slave id="1">
            <block>
                <type>COILS</type>
                <starting_address>2148</starting_address>
                <size>55</size>
                <point id="ns=1;s=MJGrooveRobot.StartSignal">
                    <address>2148</address>
                </point>
                <point id="ns=1;s=MJGrooveRobot.State" readonly="True" state="grooved" condition="=True">
                    <address>2172</address>
                </point>
                  <point id="ns=1;s=MJGrooveRobot.Working" index="0">
                    <address>2173</address>
                </point>
                <point id="ns=1;s=MJGrooveRobot.State" readonly="True" state="delivered" condition="=True">
                    <address>2200</address>
                </point>
                <point id="ns=1;s=MJGrooveRobot.State" readonly="True" state="completed" condition="=True">
                    <address>2201</address>
                </point>
                <point id="ns=1;s=MJGrooveRobot.Working" index="1">
                    <address>2202</address>
                </point>
            </block>
            <block>
                <type>HOLDING_REGISTERS</type>
                <starting_address>6097</starting_address>
                <size>2</size>
                <!-- 切割程序号 -->
                <point id="ns=1;s=MJGrooveRobot.CuttingPro">
                    <address>6097</address>
                </point>
                <!-- 搬运程序号 -->
                <point id="ns=1;s=MJGrooveRobot.MovingPro">
                    <address>6098</address>
                </point>
            </block>
             <block>
                <type>COILS</type>
                <starting_address>2348</starting_address>
                <size>2</size>
                <!-- 搬运机器人故障状态 -->
                <point id="ns=1;s=MJGrooveRobot.FaultStatus">
                    <address>2348</address>
                </point>
                <!-- 切割机器人故障状态 -->
                <point id="ns=1;s=MJGrooveRobot.FaultStatus">
                    <address>2349</address>
                </point>
            </block>
        </slave>
    </device>
     <!--新松机器人-->
    <device name="SSRobot" host="192.168.1.66" port="502" update_period="1">
        <slave id="1">
            <block>
                <!-- COILS DISCRETE_INPUTS HOLDING_REGISTERS INPUT_REGISTERS -->
                <type>HOLDING_REGISTERS</type>
                <starting_address>24000</starting_address>
                <size>4</size>
                <point id="ns=1;s=SSRobot.MovingStart">
                    <address>24000</address>
                </point>
                <point id="ns=1;s=SSRobot.WeldingStart">
                    <address>24000</address>
                </point>
                <point id="ns=1;s=SSRobot.MovePro">
                    <address>24001</address>
                </point>
                <point id="ns=1;s=SSRobot.WeldingPro">
                    <address>24002</address>
                </point>
                <point id="ns=1;s=SSRobot.Floors">
                    <address>24003</address>
                </point>
            </block>
            <block>
                <!-- COILS DISCRETE_INPUTS HOLDING_REGISTERS INPUT_REGISTERS -->
                <type>HOLDING_REGISTERS</type>
                <starting_address>23900</starting_address>
                <size>8</size>
                <point id="ns=1;s=SSRobot.Moved">
                    <address>23900</address>
                </point>
                <point id="ns=1;s=SSRobot.MoveWorking">
                    <address>23901</address>
                </point>
                <point id="ns=1;s=SSRobot.Cutting">
                    <address>23903</address>
                </point>
                <point id="ns=1;s=SSRobot.CutWorking">
                    <address>23904</address>
                </point>
                <point id="ns=1;s=SSRobot.Welding">
                    <address>23906</address>
                </point>
                <point id="ns=1;s=SSRobot.WeldWorking">
                    <address>23907</address>
                </point>
            </block>
        </slave>
    </device>
     <!--明匠立体库-->
    <device name="MJWarehouse" host="192.168.1.6" port="502" update_period="1">
    <!--<device name="MJWarehouse" host="192.168.199.130" port="502" update_period="1">-->
        <slave id="1">
            <block>
                <!-- COILS DISCRETE_INPUTS HOLDING_REGISTERS INPUT_REGISTERS -->
                <type>HOLDING_REGISTERS</type>
                <starting_address>6496</starting_address>
                <size>7</size>
                    <point id="ns=1;s=MJWarehouse.Start">
                        <!-- 物料方向 -->
                        <address>6496</address>
                    </point>
                    <point id="ns=1;s=MJWarehouse.InOutLocation">
                        <!-- 出入库位置 -->
                        <address>6497</address>
                    </point>
                    <point id="ns=1;s=MJWarehouse.MpLocation">
                        <!-- 物料台位置 -->
                        <address>6498</address>
                    </point>
                    <point id="ns=1;s=MJWarehouse.MStatus" readonly="True">
                        <!-- 物料状态 -->
                        <address>6500</address>
                    </point>
                    <point id="ns=1;s=MJWarehouse.FinishStatus">
                        <!-- 完成状态 -->
                        <address>6502</address>
                    </point>
            </block>
            <block>
                <!-- COILS DISCRETE_INPUTS HOLDING_REGISTERS INPUT_REGISTERS -->
                <type>COILS</type>
                <starting_address>2110</starting_address>
                <size>47</size>
                    <point id="ns=1;s=MJWarehouse.FaultStatus">
                        <!-- 故障状态 -->
                        <address>2110</address>
                    </point>
                    <point id="ns=1;s=MJWarehouse.Go">
                        <!-- 启动 -->
                        <address>2118</address>
                    </point>
                    <point id="ns=1;s=MJWarehouse.Stop">
                        <!-- 停止 -->
                        <address>2119</address>
                    </point>
                    <point id="ns=1;s=MJWarehouse.OriginStatus" >
                        <!-- 原点状态 -->
                        <address>2129</address>
                    </point>
                    <point id="ns=1;s=MJWarehouse.FaultReset" >
                        <!-- 故障复位 -->
                        <address>2157</address>
                    </point>
            </block>
            <block>
                <!-- COILS DISCRETE_INPUTS HOLDING_REGISTERS INPUT_REGISTERS -->
                <type>COILS</type>
                <starting_address>2452</starting_address>
                <size>1</size>
                    <point id="ns=1;s=MJWarehouse.OriginReset">
                        <!-- 原点回归 -->
                        <address>2452</address>
                    </point>
            </block>
            <block>
                <!-- COILS DISCRETE_INPUTS HOLDING_REGISTERS INPUT_REGISTERS -->
                <type>COILS</type>
                <starting_address>2548</starting_address>
                <size>1</size>
                    <point id="ns=1;s=MJWarehouse.EnableState">
                        <!-- 使能状态 -->
                        <address>2548</address>
                    </point>
            </block>
            <!--<block>-->
                <!--<type>DISCRETE_INPUTS</type>-->
                <!--<starting_address>1026</starting_address>-->
                <!--<size>6</size>-->
                    <!--&lt;!&ndash; 卷扬上限位 &ndash;&gt;-->
                    <!--<point id="ns=1;s=MJWarehouse.Fault" index="0">-->
                        <!--<address>1026</address>-->
                    <!--</point>-->
                    <!--&lt;!&ndash; 卷扬下限位 &ndash;&gt;-->
                    <!--<point id="ns=1;s=MJWarehouse.Fault" index="1">-->
                        <!--<address>1027</address>-->
                    <!--</point>-->
                    <!--&lt;!&ndash; 货叉西限位 &ndash;&gt;-->
                    <!--<point id="ns=1;s=MJWarehouse.Fault" index="2">-->
                        <!--<address>1028</address>-->
                    <!--</point>-->
                    <!--&lt;!&ndash; 货叉东限位 &ndash;&gt;-->
                    <!--<point id="ns=1;s=MJWarehouse.Fault" index="3">-->
                        <!--<address>1029</address>-->
                    <!--</point>-->
                    <!--&lt;!&ndash; 货叉西光电 &ndash;&gt;-->
                    <!--<point id="ns=1;s=MJWarehouse.Fault" index="4">-->
                        <!--<address>1030</address>-->
                    <!--</point>-->
                    <!--&lt;!&ndash; 货叉东光电 &ndash;&gt;-->
                    <!--<point id="ns=1;s=MJWarehouse.Fault" index="5">-->
                        <!--<address>1031</address>-->
                    <!--</point>-->
            <!--</block>-->
            <!--<block>-->
                <!--<type>DISCRETE_INPUTS</type>-->
                <!--<starting_address>1054</starting_address>-->
                <!--<size>2</size>-->
                    <!--&lt;!&ndash; 行走南限位 &ndash;&gt;-->
                    <!--<point id="ns=1;s=MJWarehouse.Fault" index="6">-->
                        <!--<address>1054</address>-->
                    <!--</point>-->
                    <!--&lt;!&ndash; 行走北限位 &ndash;&gt;-->
                    <!--<point id="ns=1;s=MJWarehouse.Fault" index="7">-->
                        <!--<address>1055</address>-->
                    <!--</point>-->
            <!--</block>-->
            <!--<block>-->
                <!--<type>DISCRETE_INPUTS</type>-->
                <!--<starting_address>2088</starting_address>-->
                <!--<size>3</size>-->
                    <!--&lt;!&ndash; 卷扬超程 &ndash;&gt;-->
                    <!--<point id="ns=1;s=MJWarehouse.Fault" index="8">-->
                        <!--<address>2088</address>-->
                    <!--</point>-->
                    <!--&lt;!&ndash; 行走超程 &ndash;&gt;-->
                    <!--<point id="ns=1;s=MJWarehouse.Fault" index="9">-->
                        <!--<address>2089</address>-->
                    <!--</point>-->
                    <!--&lt;!&ndash; 货叉超程 &ndash;&gt;-->
                    <!--<point id="ns=1;s=MJWarehouse.Fault" index="10">-->
                        <!--<address>2090</address>-->
                    <!--</point>-->
            <!--</block>-->
            <block>
                <type>DISCRETE_INPUTS</type>
                <starting_address>2109</starting_address>
                <size>41</size>
                    <!-- 堆垛车远程失败 -->
                    <!--<point id="ns=1;s=MJWarehouse.Fault" index="11">-->
                        <!--<address>2109</address>-->
                    <!--</point>-->
                    <!-- 料台急停 -->
                    <point id="ns=1;s=MJWarehouse.Fault" index="1">
                        <address>2112</address>
                    </point>
                    <!-- 堆垛车急停 -->
                    <point id="ns=1;s=MJWarehouse.Fault" index="2">
                        <address>2113</address>
                    </point>
                    <!-- 载货超重 -->
                    <!--<point id="ns=1;s=MJWarehouse.Fault" index="14">-->
                        <!--<address>2137</address>-->
                    <!--</point>-->
                    <!--&lt;!&ndash; 载货失重 &ndash;&gt;-->
                    <!--<point id="ns=1;s=MJWarehouse.Fault" index="15">-->
                        <!--<address>2142</address>-->
                    <!--</point>-->
                    <!--&lt;!&ndash; 钢丝绳断裂 &ndash;&gt;-->
                    <!--<point id="ns=1;s=MJWarehouse.Fault" index="16">-->
                        <!--<address>2143</address>-->
                    <!--</point>-->
                    <!--&lt;!&ndash; 卷扬故障 &ndash;&gt;-->
                    <!--<point id="ns=1;s=MJWarehouse.Fault" index="17">-->
                        <!--<address>2148</address>-->
                    <!--</point>-->
                    <!--&lt;!&ndash; 行走故障 &ndash;&gt;-->
                    <!--<point id="ns=1;s=MJWarehouse.Fault" index="18">-->
                        <!--<address>2149</address>-->
                    <!--</point>-->
                    <!--&lt;!&ndash; 货叉故障 &ndash;&gt;-->
                    <!--<point id="ns=1;s=MJWarehouse.Fault" index="19">-->
                        <!--<address>2150</address>-->
                    <!--</point>-->
            </block>
            <block>
                <type>DISCRETE_INPUTS</type>
                <starting_address>2573</starting_address>
                <size>1</size>
                    <!-- 急停故障 -->
                    <point id="ns=1;s=MJWarehouse.Fault" index="3">
                        <address>2573</address>
                    </point>
            </block>
        </slave>
    </device>
     <!--牛腿搬运机器人-->
    <device name="MJMoveRobot" host="192.168.1.8" port="502" update_period="1">
        <slave id="1">
            <block>
                <type>HOLDING_REGISTERS</type>
                <starting_address>4146</starting_address>
                <size>5</size>
                <point id="ns=1;s=MJMoveRobot.Move">
                    <address>4146</address>
                </point>
                <point id="ns=1;s=MJMoveRobot.FinishStatus">
                    <address>4149</address>
                </point>
                <point id="ns=1;s=MJMoveRobot.Status">
                    <address>4150</address>
                </point>
            </block>
            <block>
                <type>COILS</type>
                <starting_address>1306</starting_address>
                <size>5</size>
                <point id="ns=1;s=MJMoveRobot.Fault">
                    <address>1306</address>
                    <count>1</count>
                </point>
                <point id="ns=1;s=MJMoveRobot.Wait">
                    <address>1307</address>
                    <count>1</count>
                </point>
                <point id="ns=1;s=MJMoveRobot.Run">
                    <address>1308</address>
                    <count>1</count>
                </point>
            </block>
            <block>
                <type>COILS</type>
                <starting_address>2083</starting_address>
                <size>1</size>
                <point id="ns=1;s=MJMoveRobot.MagnetConfirm">
                    <address>2083</address>
                </point>
            </block>
        </slave>
    </device>
    <!-- 流量计 -->
    <device name="Flowmeter" host="192.168.1.55" port="502" update_period="2">
        <slave id="1">
            <block>
                <type>HOLDING_REGISTERS</type>
                <starting_address>0</starting_address>
                <size>120</size>
                    <!-- 高压氧瞬时量 HOxyInstVol -->
                    <point id="ns=1;s=Flowmeter.Values" index="0">
                        <address>0</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>
                    <!-- 高压氧累积量 SumHOxy -->
                    <point id="ns=1;s=Flowmeter.Values" index="1">
                        <address>4</address>
                        <count>4</count>
                        <encoding>custom</encoding>
                        <custom_decoder>BinaryPayloadDecoder(''.join(pack(Endian.Little + 'H', x) for x in value[:2]), Endian.Little).decode_32bit_float() / 1000 + BinaryPayloadDecoder(''.join(pack(Endian.Little + 'H', x) for x in value[2:]), Endian.Little).decode_32bit_float() * 1000000</custom_decoder>
                    </point>
                    <!-- 高压氧频率 FreHOxy-->
                    <point id="ns=1;s=Flowmeter.FreHOxy">
                        <address>12</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>

                    <!-- 低压氧瞬时量 LOxyInstVol -->
                    <point id="ns=1;s=Flowmeter.Values" index="2">
                        <address>20</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>
                    <!-- 低压氧累积量 SumLOxy -->
                    <point id="ns=1;s=Flowmeter.Values" index="3">
                        <address>24</address>
                        <count>4</count>
                        <encoding>custom</encoding>
                        <custom_decoder>BinaryPayloadDecoder(''.join(pack(Endian.Little + 'H', x) for x in value[:2]), Endian.Little).decode_32bit_float() / 1000 + BinaryPayloadDecoder(''.join(pack(Endian.Little + 'H', x) for x in value[2:]), Endian.Little).decode_32bit_float() * 1000000</custom_decoder>
                    </point>
                    <!-- 低压氧频率 FreLOxy-->
                    <point id="ns=1;s=Flowmeter.FreLOxy">
                        <address>32</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>

                    <!-- 乙炔瞬时量 EthineInstVol -->
                    <point id="ns=1;s=Flowmeter.Values" index="4">
                        <address>40</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>
                    <!-- 乙炔累积量 SumEthine -->
                    <point id="ns=1;s=Flowmeter.Values" index="5">
                        <address>44</address>
                        <count>4</count>
                        <encoding>custom</encoding>
                        <custom_decoder>BinaryPayloadDecoder(''.join(pack(Endian.Little + 'H', x) for x in value[:2]), Endian.Little).decode_32bit_float() / 1000 + BinaryPayloadDecoder(''.join(pack(Endian.Little + 'H', x) for x in value[2:]), Endian.Little).decode_32bit_float() * 1000000</custom_decoder>
                    </point>
                    <!-- 乙炔频率 FreEthine-->
                    <point id="ns=1;s=Flowmeter.FreEthine">
                        <address>52</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>
                    <!-- VolA -->
                    <point id="ns=1;s=Flowmeter.Values" index="6">
                        <address>60</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>
                    <!-- VolB -->
                    <point id="ns=1;s=Flowmeter.Values" index="7">
                        <address>62</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>
                    <!-- VolC -->
                    <point id="ns=1;s=Flowmeter.Values" index="8">
                        <address>64</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>
                    <point id="ns=1;s=Flowmeter.VolAvrPh">
                        <address>66</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>

                    <point id="ns=1;s=Flowmeter.VolAB">
                        <address>68</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>
                    <point id="ns=1;s=Flowmeter.VolBC">
                        <address>70</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>
                    <point id="ns=1;s=Flowmeter.VolCA">
                        <address>72</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>
                    <point id="ns=1;s=Flowmeter.VolAvrLn">
                        <address>74</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>
                    <!-- CurrentA -->
                    <point id="ns=1;s=Flowmeter.Values" index="9">
                        <address>76</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>
                    <!-- CurrentB -->
                    <point id="ns=1;s=Flowmeter.Values" index="10">
                        <address>78</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>
                    <!-- CurrentC -->
                    <point id="ns=1;s=Flowmeter.Values" index="11">
                        <address>80</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>
                    <point id="ns=1;s=Flowmeter.CurrentAvr">
                        <address>82</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>
                    <!-- 总有功功率 PSum -->
                    <point id="ns=1;s=Flowmeter.Values" index="12">
                        <address>96</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>
                    <point id="ns=1;s=Flowmeter.PA">
                        <address>98</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>
                    <point id="ns=1;s=Flowmeter.PB">
                        <address>100</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>
                    <point id="ns=1;s=Flowmeter.PC">
                        <address>102</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32float</encoding>
                    </point>
                    <!-- PowerAP 正向有功电能 -->
                    <point id="ns=1;s=Flowmeter.Values" index="13">
                        <address>104</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32int</encoding>
                    </point>
                    <!-- 正向无功电能 PowerAN -->
                    <point id="ns=1;s=Flowmeter.Values" index="14">
                        <address>106</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32int</encoding>
                    </point>
                    <!-- 反向有功电能 PowerIP -->
                    <point id="ns=1;s=Flowmeter.Values" index="15">
                        <address>108</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32int</encoding>
                    </point>
                    <!-- 反向无功电能 PowerIN -->
                    <point id="ns=1;s=Flowmeter.Values" index="16">
                        <address>110</address>
                        <count>2</count>
                        <endian>Little</endian>
                        <encoding>32int</encoding>
                    </point>
            </block>
        </slave>
    </device>

</mmaster>